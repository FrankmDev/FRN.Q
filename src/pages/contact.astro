---
import Layout from "../layouts/Layout.astro";
import Navigation from "../components/layout/Navigation.astro";
import GrainOverlay from "../components/effects/GrainOverlay.astro";
import CustomCursor from "../components/effects/CustomCursor.astro";
import { siteConfig } from "../data/site";

const title = "CONTACT â€” FRN.Q";
const description = "Get in touch for projects and collaborations.";

const contactMethods = [
  { label: "EMAIL", value: siteConfig.email, href: `mailto:${siteConfig.email}`, index: "01" },
  { label: "TWITTER", value: "@frnq", href: "https://twitter.com/frnq", index: "02" },
  { label: "LINKEDIN", value: "linkedin.com/in/frnq", href: "https://linkedin.com/in/frnq", index: "03" },
];
---

<Layout title={title} description={description}>
  <CustomCursor />
  <GrainOverlay />

  <div class="min-h-screen bg-black text-white">
    <Navigation currentPath="/contact" />

    <main>
      {/* HERO SECTION */}
      <section class="relative min-h-screen flex flex-col overflow-hidden">
        {/* Top accent bar */}
        <div class="h-2 bg-accent"></div>
        
        {/* Industrial grid background */}
        <div class="absolute inset-0 pointer-events-none">
          <div class="absolute inset-0" style="background-image: linear-gradient(to right, rgba(255,255,255,0.03) 1px, transparent 1px), linear-gradient(to bottom, rgba(255,255,255,0.03) 1px, transparent 1px); background-size: 120px 120px;"></div>
        </div>

        {/* Status bar */}
        <div class="border-b-[3px] border-white px-6 md:px-12 lg:px-20 py-4 relative z-10">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-4">
              <span class="relative flex h-3 w-3">
                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-100"></span>
                <span class="relative inline-flex rounded-full h-3 w-3 bg-accent"></span>
              </span>
              <span class="font-mono text-[11px] tracking-[0.5em] text-accent uppercase font-bold">OPEN FOR PROJECTS</span>
            </div>
            <span class="font-mono text-[11px] text-white/40 tracking-[0.4em] uppercase">EST. 2024</span>
          </div>
        </div>

        {/* Main hero content */}
        <div class="flex-1 flex flex-col justify-center px-6 md:px-12 lg:px-20 py-8 relative">
          {/* Decorative brutalist elements */}
          <div class="absolute top-20 right-20 w-40 h-40 border-[6px] border-accent/10 hidden lg:block"></div>
          <div class="absolute bottom-32 left-12 w-24 h-24 bg-accent/5 hidden lg:block"></div>
          <div class="absolute top-1/3 right-1/4 w-2 h-32 bg-accent hidden lg:block"></div>
          
          <div class="max-w-6xl w-full mx-auto relative">
            {/* Centered headline with better sizing */}
            <div class="relative text-center">
              {/* Background text */}
              <div class="absolute -top-8 left-1/2 -translate-x-1/2 font-black uppercase tracking-[-0.06em] text-white/[0.03] select-none pointer-events-none whitespace-nowrap" style="font-size: clamp(8rem, 30vw, 25rem);">
                HELLO
              </div>
              
              {/* Main headline - centered and properly sized */}
              <h1 class="hero-title relative font-black uppercase tracking-[-0.04em]" style="font-size: clamp(4rem, 14vw, 12rem); line-height: 0.9;">
                <span class="block overflow-hidden">
                  <span class="hero-word inline-block translate-y-full text-white">GET IN</span>
                </span>
                <span class="block overflow-hidden">
                  <span class="hero-word inline-block translate-y-full text-accent">TOUCH</span>
                </span>
              </h1>

              {/* Decorative vertical line */}
              <div class="absolute -right-8 top-1/2 -translate-y-1/2 h-32 w-[2px] bg-gradient-to-b from-transparent via-accent/50 to-transparent hidden xl:block"></div>
              <div class="absolute -left-8 top-1/2 -translate-y-1/2 h-32 w-[2px] bg-gradient-to-b from-transparent via-white/20 to-transparent hidden xl:block"></div>
            </div>

            {/* Subtitle bar */}
            <div class="mt-10 md:mt-16 flex flex-col md:flex-row md:items-end justify-between gap-6 border-t-[3px] border-white pt-6 md:pt-8">
              <div class="max-w-2xl text-center md:text-left">
                <p class="hero-desc text-xl md:text-2xl lg:text-3xl text-white/70 font-medium leading-[1.2] tracking-[-0.02em]">
                  Have a project? <span class="text-accent">Let's build</span> something that <span class="text-white">breaks the mold</span>.
                </p>
              </div>
              
              {/* Location badge */}
              <div class="hero-location flex items-center gap-4 border-[3px] border-white px-5 py-3 hover:bg-accent hover:border-accent transition-all duration-300 group mx-auto md:mx-0">
                <div class="w-3 h-3 rounded-full bg-accent group-hover:bg-black transition-colors"></div>
                <span class="font-mono text-[10px] tracking-[0.4em] uppercase font-bold">Granada, Spain</span>
              </div>
            </div>
          </div>
        </div>

        {/* Bottom email strip */}
        <div class="border-t-[6px] border-white bg-white relative z-10">
          <a href={`mailto:${siteConfig.email}`} class="group block px-6 md:px-12 lg:px-20 py-6 md:py-10 hover:bg-accent transition-colors duration-200">
            <div class="max-w-6xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4">
              <div class="flex items-center gap-4">
                <span class="font-mono text-[10px] tracking-[0.3em] text-black/40 uppercase group-hover:text-black/60">Send to:</span>
                <span class="hero-email font-black text-black uppercase tracking-[-0.03em] group-hover:text-black" style="font-size: clamp(1.5rem, 5vw, 3rem);">
                  {siteConfig.email}
                </span>
              </div>
              <div class="flex items-center gap-4">
                <span class="font-mono text-[10px] tracking-[0.3em] text-black/40 uppercase group-hover:text-black/60 hidden md:block">
                  Available now
                </span>
                <div class="w-12 h-12 border-[3px] border-black flex items-center justify-center group-hover:bg-black transition-colors">
                  <svg class="w-5 h-5 text-black group-hover:text-accent group-hover:-rotate-45 transition-all duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                  </svg>
                </div>
              </div>
            </div>
          </a>
        </div>
      </section>

      {/* CONTACT METHODS - 3 columns */}
      <section class="border-b-[6px] border-white">
        <div class="grid grid-cols-1 md:grid-cols-3">
          {contactMethods.map((method, i) => (
            <a 
              href={method.href}
              target={method.href.startsWith('mailto') ? undefined : '_blank'}
              rel={method.href.startsWith('mailto') ? undefined : 'noopener noreferrer'}
              class={`contact-card group relative block px-6 md:px-8 py-10 md:py-14 transition-all duration-200 hover:bg-accent ${i !== 2 ? 'border-b-[3px] md:border-b-0 md:border-r-[3px]' : ''} border-white`}
            >
              {/* Top label row */}
              <div class="flex items-start justify-between mb-8">
                <span class="font-mono text-[10px] tracking-[0.5em] text-white/50 group-hover:text-black/60 uppercase font-bold">
                  {method.label}
                </span>
                <span class="font-black text-4xl md:text-5xl text-white/10 group-hover:text-black/20 transition-colors">
                  {method.index}
                </span>
              </div>
              
              {/* Value */}
              <p class="font-black text-2xl md:text-3xl lg:text-4xl uppercase break-all leading-[0.95] text-white group-hover:text-black transition-colors tracking-[-0.02em]">
                {method.value}
              </p>

              {/* Hover arrow */}
              <div class="absolute bottom-8 right-8 opacity-0 group-hover:opacity-100 transform translate-x-4 group-hover:translate-x-0 transition-all duration-300">
                <svg class="w-8 h-8 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M7 17L17 7M17 7H7M17 7V17"></path>
                </svg>
              </div>

              {/* Full height accent line on hover */}
              <div class="absolute top-0 left-0 w-1 h-0 bg-black group-hover:h-full transition-all duration-500"></div>
            </a>
          ))}
        </div>
      </section>

      {/* FOOTER CTA */}
      <section class="relative py-24 md:py-36 lg:py-48 px-6 overflow-hidden border-t-[6px] border-white">
        {/* Background decoration */}
        <div class="absolute inset-0 pointer-events-none">
          <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] border-[1px] border-white/5 rounded-full"></div>
          <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] border-[2px] border-accent/10 rounded-full"></div>
        </div>
        
        <div class="relative z-10 max-w-6xl mx-auto">
          {/* Top label */}
          <div class="flex items-center justify-center gap-0 mb-16">
            <div class="w-16 h-[1px] bg-white/20"></div>
            <div class="w-3 h-3 bg-accent rotate-45 mx-4"></div>
            <span class="footer-label font-mono text-[10px] tracking-[0.6em] text-white/50 uppercase">
              Ready when you are
            </span>
            <div class="w-3 h-3 bg-accent rotate-45 mx-4"></div>
            <div class="w-16 h-[1px] bg-white/20"></div>
          </div>
          
          {/* Main CTA */}
          <a href={`mailto:${siteConfig.email}`} class="footer-cta group block">
            <div class="relative flex flex-col items-center">
              {/* Top accent bar */}
              <div class="w-full max-w-4xl h-[2px] bg-white/10 mb-8 group-hover:bg-accent/50 transition-colors duration-500"></div>
              
              {/* Main text */}
              <h2 class="font-black text-white group-hover:text-accent transition-colors duration-300 leading-[0.85] tracking-[-0.05em] text-center" style="font-size: clamp(3.5rem, 14vw, 12rem);">
                LET'S WORK
              </h2>
              
              {/* Bottom bar with animation */}
              <div class="w-full max-w-4xl h-[2px] bg-accent mt-8 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-700 origin-left"></div>
              
              {/* Hover hint */}
              <div class="mt-6 flex items-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <span class="font-mono text-[10px] tracking-[0.4em] text-white/60 uppercase">Click to email</span>
                <svg class="w-4 h-4 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
              </div>
            </div>
          </a>
          
          {/* Email display */}
          <div class="mt-16 flex items-center justify-center">
            <div class="flex items-center gap-6 px-8 py-4 border border-white/10 bg-white/[0.02] hover:border-accent/30 transition-colors duration-300">
              <div class="w-2 h-2 rounded-full bg-accent"></div>
              <p class="font-mono text-sm text-white/50 uppercase tracking-[0.3em]">
                {siteConfig.email}
              </p>
              <div class="w-2 h-2 rounded-full bg-accent"></div>
            </div>
          </div>
        </div>

        {/* Corner accents */}
        <div class="absolute top-12 left-12 w-20 h-20 border-l border-t border-white/10"></div>
        <div class="absolute top-12 right-12 w-20 h-20 border-r border-t border-white/10"></div>
        <div class="absolute bottom-12 left-12 w-20 h-20 border-l border-b border-white/10"></div>
        <div class="absolute bottom-12 right-12 w-20 h-20 border-r border-b border-white/10"></div>
      </section>
    </main>
  </div>

  <style>
    /* Initial states for animations */
    .hero-word,
    .hero-desc,
    .hero-location,
    .hero-email,
    .contact-card,
    .footer-label,
    .footer-cta {
      opacity: 0;
    }

    .hero-word {
      transform: translateY(110%);
    }

    .hero-desc { transform: translateY(40px); }
    .hero-location { transform: translateX(-30px); }
    .hero-email { transform: translateY(20px); }
    .contact-card { transform: translateY(50px); }
    .footer-label { transform: translateY(15px); }
    .footer-cta { transform: translateY(40px); }

    @keyframes ping {
      0% {
        transform: scale(1);
        opacity: 1;
      }
      75%, 100% {
        transform: scale(3);
        opacity: 0;
      }
    }
    .animate-ping {
      animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
    }

    /* Custom selection color */
    ::selection {
      background: #BF3235;
      color: black;
    }
  </style>

  <script>
    function initAnimations() {
      if (typeof window.gsap === "undefined" || typeof window.ScrollTrigger === "undefined") {
        setTimeout(initAnimations, 50);
        return;
      }

      // Hero title animation
      gsap.to(".hero-word", {
        y: 0,
        opacity: 1,
        duration: 1.2,
        stagger: 0.15,
        ease: "power4.out",
        delay: 0.15
      });

      // Hero description
      gsap.to(".hero-desc", {
        y: 0,
        opacity: 1,
        duration: 0.9,
        ease: "power3.out",
        delay: 0.5
      });

      // Location badge slide in
      gsap.to(".hero-location", {
        x: 0,
        opacity: 1,
        duration: 0.7,
        ease: "power3.out",
        delay: 0.7
      });

      // Email strip
      gsap.to(".hero-email", {
        y: 0,
        opacity: 1,
        duration: 0.7,
        ease: "power2.out",
        delay: 0.9
      });

      // Contact cards with stagger
      gsap.to(".contact-card", {
        y: 0,
        opacity: 1,
        duration: 0.8,
        stagger: 0.12,
        ease: "power4.out",
        scrollTrigger: {
          trigger: ".contact-card",
          start: "top 85%"
        }
      });

      // Footer label
      gsap.to(".footer-label", {
        y: 0,
        opacity: 1,
        duration: 0.7,
        ease: "power3.out",
        scrollTrigger: {
          trigger: ".footer-label",
          start: "top 90%"
        }
      });

      // Footer CTA
      gsap.to(".footer-cta", {
        y: 0,
        opacity: 1,
        duration: 1,
        ease: "power4.out",
        scrollTrigger: {
          trigger: ".footer-cta",
          start: "top 85%"
        }
      });
    }

    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", initAnimations);
    } else {
      initAnimations();
    }
  </script>
</Layout>
